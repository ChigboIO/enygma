#!/usr/bin/env ruby

require 'enygma/cracker'
require 'enygma/helpers/help'

if ARGV[0] && ARGV[0] == 'help'
	Enygma::Help.crack
elsif ARGV.length < 2 || ARGV.length > 3
	puts "Incorrect number of argument."
	Enygma::Help.crack
elsif !File.file?(ARGV[0])
	puts "The input file path does not exist"
	Enygma::Help.crack
elsif ARGV.length == 3 && File.file?(ARGV[1])
	puts "The output file path cannot be created, or file already exist"
	Enygma::Help.crack
else
	Enygma::Cracker.new(ARGV[0], ARGV[2], ARGV[1]).decrypt
end
